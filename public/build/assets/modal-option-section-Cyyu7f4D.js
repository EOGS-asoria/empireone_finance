import{r as t,j as e}from"./app-Sh-hAmbv.js";import{C}from"./Close-BYp5KUfi.js";import a from"./mark-paid-section-DpQYjmXK.js";import w from"./pay-all-section-BOWBJ-YU.js";import{B as A}from"./Button-D1ktSQl5.js";import{D as y}from"./Dialog-Ch_lkYME.js";import{T as j,a as g,b as o,c as s,d as P}from"./TableRow-B52p-YeU.js";import{I as T}from"./IconButton-Bc8oRR-l.js";import{F as _}from"./FormControlLabel-BScTu-p9.js";import{C as D}from"./Checkbox-a7Pp8c9h.js";import"./createSvgIcon-DxBRSgJK.js";import"./DefaultPropsProvider-BaSAp7G-.js";import"./loan-record-thunk-BA8ZQen8.js";import"./loan-record-payment-thunk-CWJl1Gkc.js";import"./TextField-CrbT4RVF.js";import"./useSlot-BanrXmrs.js";import"./createSimplePaletteValueFilter-BAchQbJy.js";import"./InputBase-DlkzrSQO.js";import"./isHostComponent-DVu5iVWx.js";import"./index-BcrmnTLk.js";import"./useTheme-D25useIl.js";import"./extendSxProp-BxLsc5mA.js";import"./ownerWindow-HkKU3E4x.js";import"./ownerDocument-DW-IO8s5.js";import"./debounce-Be36O1Ab.js";import"./Popover-DRZcyKFj.js";import"./Modal-BHKpXjng.js";import"./Paper-DJ20X4jm.js";import"./utils-DtzvcPR6.js";import"./Grow-C3dxvyKM.js";import"./react-is.production.min-DUDD-a5e.js";import"./index-Bw3EBkBU.js";import"./useSlotProps-ClVemLjF.js";import"./useThemeProps-BMIfz57D.js";import"./MenuItem-B8GX-Jxn.js";import"./listItemTextClasses-Czl1hqsD.js";import"./Typography-Ba0-YfuE.js";function pe({data:r}){var x;const[n,h]=t.useState(!1),[i,m]=t.useState(!1),b=()=>{h(!0)};t.useEffect(()=>{n&&m(!1)},[n]);const p=()=>{h(!1)};let d=[];return r!=null&&r.loan_records&&(d=[...r==null?void 0:r.loan_records].sort((l,c)=>{const u=new Date(l.due_date),f=new Date(c.due_date);return u-f})),e.jsxs(t.Fragment,{children:[e.jsx(A,{variant:"outlined",onClick:b,fullWidth:!0,children:"PAYMENT"}),e.jsxs(y,{fullWidth:!0,open:n,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsxs(j,{"aria-label":"simple table",children:[e.jsx(g,{children:e.jsxs(o,{children:[e.jsx(s,{children:e.jsx("div",{className:"font-black",children:"Loan Information (CHECK PAYMENT)"})}),e.jsx(s,{align:"right",children:e.jsx(T,{edge:"start",color:"inherit",onClick:p,"aria-label":"close",children:e.jsx(C,{})})})]})}),e.jsxs(P,{children:[e.jsxs(o,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(s,{component:"th",scope:"row",children:"Fullname"}),e.jsxs(s,{children:[r==null?void 0:r.user.employee_fname," ",r==null?void 0:r.user.employee_lname]})]}),e.jsxs(o,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(s,{component:"th",scope:"row",children:"Position"}),e.jsx(s,{children:((x=r==null?void 0:r.employee)==null?void 0:x.position)??"NA"})]}),e.jsxs(o,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(s,{component:"th",scope:"row",children:"Desired Amount"}),e.jsxs(s,{children:["₱ ",(r==null?void 0:r.desired_amount)??0]})]}),e.jsxs(o,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(s,{component:"th",scope:"row",children:"Term"}),e.jsxs(s,{children:[r==null?void 0:r.term," months"]})]}),e.jsxs(o,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(s,{component:"th",scope:"row",children:"Interest"}),e.jsxs(s,{children:["₱ ",r==null?void 0:r.interest]})]}),e.jsxs(o,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(s,{component:"th",scope:"row",children:"Net"}),e.jsxs(s,{children:["₱ ",r==null?void 0:r.net]})]}),e.jsxs(o,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(s,{component:"th",scope:"row",children:"Balance"}),e.jsxs(s,{children:["₱ ",r==null?void 0:r.balance.toFixed(2)]})]})]})]}),e.jsxs(j,{"aria-label":"simple table",children:[e.jsx(o,{sx:{"&:last-child td, &:last-child th":{border:0}},children:e.jsxs(s,{colSpan:3,children:[e.jsx(_,{control:e.jsx(D,{name:"isPayAll",value:i,onChange:l=>m(l.target.checked)}),label:"Is Pay All?"}),i&&e.jsx(w,{data:r})]})}),!i&&e.jsxs(o,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(s,{component:"th",scope:"row",children:"Due Date"}),e.jsx(s,{children:"Amount"}),e.jsx(s,{children:"Action"})]}),!i&&d.map((l,c)=>e.jsxs(o,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(s,{component:"th",scope:"row",children:l.due_date}),e.jsxs(s,{children:["₱ ",r==null?void 0:r.bi_amortization.toFixed(2)]}),e.jsx(s,{children:e.jsx(a,{data:l})})]},c))]})]})]})}export{pe as default};
