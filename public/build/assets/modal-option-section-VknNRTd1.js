import{r as n,j as e}from"./app-dP_z_fnk.js";import{C}from"./Close-DYdq3vQE.js";import a from"./mark-paid-section-C_9FH2lH.js";import w from"./pay-all-section-Bzitl1xJ.js";import{B as A}from"./Button-vVkDZ5qZ.js";import{D as y}from"./Dialog-C7gflt8u.js";import{T as j,a as g,b as l,c as r,d as P}from"./TableRow-kScVK0Qx.js";import{I as T}from"./IconButton-BRSUSFoS.js";import{F as _}from"./FormControlLabel-BI_4b1sB.js";import{C as D}from"./Checkbox-rP87vWtM.js";import"./createSvgIcon-Cp-50FUN.js";import"./DefaultPropsProvider-CsXFCh0-.js";import"./loan-record-thunk-C4ZBVTOa.js";import"./loan-record-payment-thunk-DOKOo2Ri.js";import"./TextField-CaQO6EmX.js";import"./useSlot-Cbms-XDJ.js";import"./createSimplePaletteValueFilter-Bgv203Gg.js";import"./InputBase-nc_-WVBt.js";import"./isHostComponent-DVu5iVWx.js";import"./index-EqUvMg9Z.js";import"./useTheme-CyRo7N0D.js";import"./extendSxProp-OJ4AWB0Z.js";import"./ownerWindow-HkKU3E4x.js";import"./ownerDocument-DW-IO8s5.js";import"./debounce-Be36O1Ab.js";import"./Popover-V040IlCe.js";import"./Modal-WIWjtJar.js";import"./Paper-B-2IUVeE.js";import"./utils-C-nDyjYJ.js";import"./Grow-HSTwU_fs.js";import"./useThemeProps-CKOdREzu.js";import"./MenuItem-IQ1Mm9Da.js";import"./listItemTextClasses-4P8OQ-pR.js";import"./Typography-B_CPnTsD.js";function ce({data:s}){var x;const[t,h]=n.useState(!1),[i,m]=n.useState(!1),b=()=>{h(!0)};n.useEffect(()=>{t&&m(!1)},[t]);const p=()=>{h(!1)};let d=[];return s!=null&&s.loan_records&&(d=[...s==null?void 0:s.loan_records].sort((o,c)=>{const u=new Date(o.due_date),f=new Date(c.due_date);return u-f})),e.jsxs(n.Fragment,{children:[e.jsx(A,{variant:"outlined",onClick:b,fullWidth:!0,children:"PAYMENT"}),e.jsxs(y,{fullWidth:!0,open:t,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsxs(j,{"aria-label":"simple table",children:[e.jsx(g,{children:e.jsxs(l,{children:[e.jsx(r,{children:e.jsx("div",{className:"font-black",children:"Loan Information (CHECK PAYMENT)"})}),e.jsx(r,{align:"right",children:e.jsx(T,{edge:"start",color:"inherit",onClick:p,"aria-label":"close",children:e.jsx(C,{})})})]})}),e.jsxs(P,{children:[e.jsxs(l,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(r,{component:"th",scope:"row",children:"Fullname"}),e.jsxs(r,{children:[s==null?void 0:s.user.employee_fname," ",s==null?void 0:s.user.employee_lname]})]}),e.jsxs(l,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(r,{component:"th",scope:"row",children:"Position"}),e.jsx(r,{children:((x=s==null?void 0:s.employee)==null?void 0:x.position)??"NA"})]}),e.jsxs(l,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(r,{component:"th",scope:"row",children:"Desired Amount"}),e.jsxs(r,{children:["₱ ",(s==null?void 0:s.desired_amount)??0]})]}),e.jsxs(l,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(r,{component:"th",scope:"row",children:"Term"}),e.jsxs(r,{children:[s==null?void 0:s.term," months"]})]}),e.jsxs(l,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(r,{component:"th",scope:"row",children:"Interest"}),e.jsxs(r,{children:["₱ ",s==null?void 0:s.interest]})]}),e.jsxs(l,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(r,{component:"th",scope:"row",children:"Net"}),e.jsxs(r,{children:["₱ ",s==null?void 0:s.net]})]}),e.jsxs(l,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(r,{component:"th",scope:"row",children:"Balance"}),e.jsxs(r,{children:["₱ ",s==null?void 0:s.balance.toFixed(2)]})]})]})]}),e.jsxs(j,{"aria-label":"simple table",children:[e.jsx(l,{sx:{"&:last-child td, &:last-child th":{border:0}},children:e.jsxs(r,{colSpan:3,children:[e.jsx(_,{control:e.jsx(D,{name:"isPayAll",value:i,onChange:o=>m(o.target.checked)}),label:"Is Pay All?"}),i&&e.jsx(w,{data:s})]})}),!i&&e.jsxs(l,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(r,{component:"th",scope:"row",children:"Due Date"}),e.jsx(r,{children:"Amount"}),e.jsx(r,{children:"Action"})]}),!i&&d.map((o,c)=>e.jsxs(l,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(r,{component:"th",scope:"row",children:o.due_date}),e.jsxs(r,{children:["₱ ",s==null?void 0:s.bi_amortization.toFixed(2)]}),e.jsx(r,{children:e.jsx(a,{data:o})})]},c))]})]})]})}export{ce as default};
